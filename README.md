# PointSystem - 用户积分系统

## 本开源项目实现了常见的用户积分系统功能，包括增减积分，查询用户积分和操作流水等。可以直接作为线上用户的积分系统进行使用
### 欢迎使用！ 使用说明参考doc中的详细设计

1 背景
购物网站支持用户积分制: 用户购买物品,获得积分;用户可以查询自己的 积分;用户可以用积分换取物品;用户可查询积分变化明细。
2 目标
1) 用户积分 My    表
2) 查询总积分接口
3) 增加积分接口
4) 减少积分接口
5) 查询积分明细接口
3 详细设计
3.1 用户积分 Mysql 表
表 1: 用户总积分表

表 2: 用户积分流水表
分表:一个表的数据在亿内,查询速度可接受。假设一人每天至少下一个单,一 年 400 单,买 50 年,共 20000 单。一个表存 5000 人的积分明细。若注册用户 千万,则分 1000 个表,现暂分 100 个表。

## JSON结果示例：

```json
{
    "errno": 0,
    "errmsg": "OK",
    "data": {
        "user_id": 8,
        "records": [
            {
                "order_id": "a8",
                "operation": 1,
                "points": 8,
                "time": "2017-11-14 14:05:54"
            },
            {
                "order_id": "d4",
                "operation": 0,
                "points": 4,
                "time": "2017-11-14 14:07:27"
            }
        ]
    }
}
```

